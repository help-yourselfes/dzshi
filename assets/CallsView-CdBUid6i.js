import{d as _,j as n,o as s,q as S,n as d,w as p,g as I,t as v,_ as f,k as L,h as m,c as l,u as i,F as b,l as B,m as V,v as h,i as y,a as g,b as u,T as $}from"./index-CsLaCM6F.js";import{W as D}from"./WaitASecond-DrPQ0LKc.js";import{E as w,_ as N}from"./ErrorBox-D4zcvQxn.js";import"./Spinner-DsnD6M-B.js";const T=_({__name:"DayLink",props:{day:{},isSelected:{type:Boolean}},setup(r){return(t,o)=>{const e=S("RouterLink");return s(),n(e,{to:`/calls/${t.day.number}`,class:d(["day-button",{selected:t.isSelected}])},{default:p(()=>[I(v(t.day.name),1)]),_:1},8,["to","class"])}}}),E=f(T,[["__scopeId","data-v-de9d0281"]]),A={class:"day-select"},F={key:2,class:"day-list"},R=_({__name:"DaySelect",props:{dayId:{}},setup(r){const t=r,{data:o,error:e,loading:a}=L(()=>V.getAviableDays()),c=m(()=>t.dayId===0?"Выбери день:":"Доступные дни:");return(k,K)=>(s(),l("div",A,[I(v(c.value)+" ",1),i(a)?(s(),n(D,{key:0})):i(e)?(s(),n(w,{key:1,error:i(e)},null,8,["error"])):(s(),l("div",F,[(s(!0),l(b,null,B(i(o),C=>(s(),n(E,{day:C,"is-selected":C.number===k.dayId,key:C.number},null,8,["day","is-selected"]))),128))]))]))}}),W=f(R,[["__scopeId","data-v-9b21a6f0"]]),j={class:"time"},q={key:0,class:"remain-time"},z=_({__name:"Call",props:{isCurrent:{type:Boolean},call:{}},setup(r){const t=r,o=m(()=>{const a=t.call,{type:c}=a;switch(c){case"lesson":return a.name;case"break":return"Перемена";case"big-break":return"Большая перемена";default:return"Неизвестно"}}),e=m(()=>t.call.type);return(a,c)=>(s(),n(h,null,{default:p(()=>[a.call.type==="lesson"||a.isCurrent?(s(),l("div",{key:0,class:d({call:!a.isCurrent,"current-call":a.isCurrent,lesson:e.value==="lesson","big-break":e.value==="big-break",break:e.value==="break"})},[g("span",{class:d(a.isCurrent?"active-name":"name")},v(o.value),3),g("div",j,[u($,{time:a.call.start,class:d(["start",a.isCurrent&&"fade-text"])},null,8,["time","class"]),a.isCurrent?(s(),l("span",q,[u(N,{end:a.call.end},null,8,["end"])])):y("",!0),u($,{time:a.call.end,class:d(["end",a.isCurrent&&"fade-text"])},null,8,["time","class"])])],2)):y("",!0)]),_:1}))}}),G=f(z,[["__scopeId","data-v-fca53708"]]),H={key:0,class:"content"},J=_({__name:"CallsView",props:{dayId:{},calls:{},currentCallId:{}},setup(r){const t=r,o=m(()=>t.calls.data.value?.filter(e=>e.type==="lesson").length);return(e,a)=>(s(),l(b,null,[u(W,{dayId:e.dayId},null,8,["dayId"]),u(h,{name:"loading"},{default:p(()=>[e.calls.loading.value?(s(),n(D,{key:0,class:"content"})):y("",!0)]),_:1}),u(h,{name:"calls"},{default:p(()=>[!e.calls.loading.value&&!e.calls.error.value?(s(),l("main",H,[(s(!0),l(b,null,B(e.calls.data.value,(c,k)=>(s(),n(G,{call:c,"is-current":k===e.currentCallId.data.value},null,8,["call","is-current"]))),256)),I(" Всего уроков: "+v(o.value),1)])):y("",!0)]),_:1})],64))}}),U=f(J,[["__scopeId","data-v-d328be90"]]);export{U as default};
