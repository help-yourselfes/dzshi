import{E as f,C as h}from"./ErrorBox-QmLJE7Wf.js";import{d as m,h as _,i as l,o as a,u as o,R as b,n as g,w as p,g as k,t as B,_ as y,j as N,c as s,F as d,k as C,b as c,l as D,m as V,C as v}from"./index-DgdmPh6o.js";import{S as $}from"./Spinner-W7ZIx7Bm.js";import{W as w}from"./WaitASecond-Dtj4PrUv.js";import{N as E}from"./NoDataSticker-CtVyT4mL.js";const A=m({__name:"DayButton",props:{day:{},isSelected:{type:Boolean}},emits:["update"],setup(u,{emit:e}){const t=u,n=e,r=()=>{n("update",t.day.number)},I=_(()=>t.day["short-name"]),S=_(()=>t.day.name);return(i,H)=>(a(),l(o(b),{class:g(["day-button",i.isSelected?"current":""]),to:`/calls/${i.day.number}`,onClick:r},{default:p(()=>[k(B(i.isSelected?S.value:I.value),1)]),_:1},8,["class","to"]))}}),F=y(A,[["__scopeId","data-v-1fbf034e"]]),L={key:0},R={key:1},W={key:2,class:"days-container"},j=m({__name:"DaySelect",props:{selectedDayId:{}},setup(u){const e=N(()=>V.getAviableDays());return(t,n)=>(a(),s(d,null,[o(e).loading.value?(a(),s("div",L,[c($)])):C("",!0),o(e).error.value?(a(),s("div",R,[c(f,{error:o(e).error},null,8,["error"])])):(a(),s("div",W,[(a(!0),s(d,null,D(o(e).data.value,r=>(a(),l(F,{day:r,key:r.number,isSelected:t.selectedDayId===r.number},null,8,["day","isSelected"]))),128))]))],64))}}),z=y(j,[["__scopeId","data-v-c98f026c"]]),T={key:1,class:"unsupported-day"},q={key:0,class:"list"},G=m({__name:"CallsView",props:{dayId:{},calls:{},currentCallId:{}},setup(u){return(e,t)=>(a(),s(d,null,[c(z,{selectedDayId:e.dayId},null,8,["selectedDayId"]),e.calls.loading.value||e.calls.error.value?(a(),l(v,{key:0},{default:p(()=>[e.calls.loading.value?(a(),l(w,{key:0,class:"center"})):e.calls.error.value==="unsupported day"?(a(),s("div",T,[t[0]||(t[0]=k(" Этот день не поддерживается ",-1)),c(E,{class:"sticker"})])):(a(),l(f,{key:2,error:e.calls.error.value},null,8,["error"]))]),_:1})):(a(),l(v,{key:1},{default:p(()=>[e.currentCallId.data?(a(),s("div",q,[(a(!0),s(d,null,D(e.calls.data.value,(n,r)=>(a(),l(h,{call:n,key:r,isCurrent:r===e.currentCallId.data.value},null,8,["call","isCurrent"]))),128))])):C("",!0)]),_:1}))],64))}}),Q=y(G,[["__scopeId","data-v-224519a5"]]);export{Q as default};
