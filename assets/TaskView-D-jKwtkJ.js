import{d as k,c as a,o as e,t as r,a as o,_ as p,k as u,F as v,l as c,i,h as $,p as T,b,n as L,C as m,w as h,g as y,s as I}from"./index-DgdmPh6o.js";import{L as g,S as f}from"./Spinner-W7ZIx7Bm.js";const M=["href"],V=["src"],B={key:1,class:"text-preview"},N={key:2,class:"error-preview"},H=k({__name:"TaskMedia",props:{media:{}},setup(l){return(t,s)=>(e(),a("a",{href:t.media.link},[t.media.preview.type==="image"?(e(),a("img",{key:0,class:"image-preview",src:t.media.preview.url},null,8,V)):t.media.preview.type==="text"?(e(),a("span",B,r(t.media.preview.text),1)):(e(),a("div",N,[...s[0]||(s[0]=[o("span",{class:"error"},"Error!",-1)])]))],8,M))}}),S=p(H,[["__scopeId","data-v-8669b1d6"]]),E=["href"],F=k({__name:"TaskHint",props:{hint:{}},setup(l){return(t,s)=>(e(),a("a",{href:t.hint.link,class:"hint"},r(t.hint.text),9,E))}}),U=p(F,[["__scopeId","data-v-e5150d33"]]),z={key:0,class:"container"},D={class:"list"},O=k({__name:"HintContainer",props:{hints:{}},setup(l){return(t,s)=>t.hints.length?(e(),a("div",z,[s[0]||(s[0]=o("span",{class:"title"}," Есть решения для: ",-1)),o("div",D,[(e(!0),a(v,null,c(t.hints,n=>(e(),i(U,{hint:n,key:`${n.text}:${n.link}`},null,8,["hint"]))),128))])])):u("",!0)}}),j=p(O,[["__scopeId","data-v-969f4210"]]),q={class:"task"},A={class:"head"},G={key:0,class:"text"},J={key:1,class:"extra"},K=k({__name:"MobileTask",props:{task:{}},setup(l){const t=$(()=>_.task.hint||_.task.media),s=T(!1),n=()=>{s.value=!s.value},_=l;return(d,ns)=>(e(),a("div",q,[o("div",A,[b(g,{id:d.task.lesson},null,8,["id"])]),o("div",{class:L(["body",t.value?"trimmed-body":""])},[d.task.text?(e(),a("div",G,r(d.task.text),1)):u("",!0),t.value&&s.value?(e(),a("div",J,[(e(!0),a(v,null,c(d.task.media,(w,C)=>(e(),i(S,{media:w,key:C},null,8,["media"]))),128)),d.task.hint?(e(),i(j,{key:0,hints:d.task.hint},null,8,["hints"])):u("",!0)])):u("",!0)],2),t.value?(e(),a("button",{key:0,onClick:n,class:"extra-button"},r(s.value?"закрыть":"открыть"),1)):u("",!0)]))}}),P=p(K,[["__scopeId","data-v-bce70dea"]]),Q={class:"lessons"},R=k({__name:"UntaskedLessonsList",props:{list:{}},setup(l){return(t,s)=>t.list.length?(e(),i(m,{key:0},{default:h(()=>[s[0]||(s[0]=o("span",{class:"text"}," Пока не задано / не заполнено: ",-1)),o("div",Q,[(e(!0),a(v,null,c(t.list,n=>(e(),i(g,{key:n,id:n,"short-name":t.list.length>3},null,8,["id","short-name"]))),128))])]),_:1})):(e(),i(m,{key:1},{default:h(()=>[...s[1]||(s[1]=[y(" Все дз заполненно ",-1)])]),_:1}))}}),W=p(R,[["__scopeId","data-v-c54f4a4d"]]),X={key:0},Y={key:1},Z={key:0},x={key:1},ss={class:"bottom"},es={key:1},ts={key:3},as=k({__name:"TaskView",props:{date:{},tasks:{},untaskedLessons:{}},setup(l){const t=$(()=>I.isMobile);return(s,n)=>(e(),a(v,null,[y(r(s.date.year)+"."+r(s.date.month)+"."+r(s.date.day)+" ",1),n[2]||(n[2]=o("div",{class:"calendar-bar"},null,-1)),s.tasks.loading.value?(e(),a("div",X,[n[0]||(n[0]=y(" Загружаю  ",-1)),b(f)])):s.tasks.error.value?(e(),a("div",Y,[s.tasks.error.value?.message==="404"?(e(),a("div",Z," На этот день пока не записано дз ")):(e(),a("div",x," Ошибка: "+r(s.tasks.error),1))])):s.tasks.data.value?(e(),i(m,{key:2},{default:h(()=>[o("div",{class:L(t.value?"task-list-mobile":"task-list-desktop")},[(e(!0),a(v,null,c(s.tasks.data.value,_=>(e(),i(P,{key:_.lesson,task:_},null,8,["task"]))),128))],2),o("div",ss,[s.untaskedLessons.loading.value?(e(),i(f,{key:0})):s.untaskedLessons.error.value?(e(),a("span",es,r(s.untaskedLessons.error),1)):s.untaskedLessons.data.value?(e(),i(W,{key:2,list:s.untaskedLessons.data.value},null,8,["list"])):u("",!0)])]),_:1})):(e(),a("div",ts,[...n[1]||(n[1]=[o("span",{class:"no-tasks"}," На завтра нет дз ",-1)])]))],64))}}),rs=p(as,[["__scopeId","data-v-207d3403"]]);export{rs as default};
