import{d as _,i as t,o as a,q as D,n as L,w as p,g as m,t as y,_ as f,j as S,h as C,c as l,u as c,F as h,l as g,m as w,b as i,k,T as I}from"./index-DgdmPh6o.js";import{W as b}from"./WaitASecond-Dtj4PrUv.js";import{E as B,C as V}from"./ErrorBox-QmLJE7Wf.js";import"./Spinner-W7ZIx7Bm.js";const $=_({__name:"DayLink",props:{day:{},isSelected:{type:Boolean}},setup(n){return(s,r)=>{const e=D("RouterLink");return a(),t(e,{to:`/calls/${s.day.number}`,class:L(["day-button",{selected:s.isSelected}])},{default:p(()=>[m(y(s.day.name),1)]),_:1},8,["to","class"])}}}),E=f($,[["__scopeId","data-v-de9d0281"]]),N={class:"day-select"},T={key:2,class:"day-list"},A=_({__name:"DaySelect",props:{dayId:{}},setup(n){const s=n,{data:r,error:e,loading:v}=S(()=>w.getAviableDays()),d=C(()=>s.dayId===0?"Выбери день:":"Доступные дни:");return(o,q)=>(a(),l("div",N,[m(y(d.value)+" ",1),c(v)?(a(),t(b,{key:0})):c(e)?(a(),t(B,{key:1,error:c(e)},null,8,["error"])):(a(),l("div",T,[(a(!0),l(h,null,g(c(r),u=>(a(),t(E,{day:u,"is-selected":u.number===o.dayId,key:u.number},null,8,["day","is-selected"]))),128))]))]))}}),F=f(A,[["__scopeId","data-v-9b21a6f0"]]),R={class:"wrapper"},W={key:0,class:"content"},j=_({__name:"CallsView",props:{dayId:{},calls:{},currentCallId:{}},setup(n){const s=n,r=C(()=>s.calls.data.value?.filter(e=>e.type==="lesson").length);return(e,v)=>(a(),l("div",R,[i(F,{dayId:e.dayId},null,8,["dayId"]),i(I,{name:"loading"},{default:p(()=>[e.calls.loading.value?(a(),t(b,{key:0,class:"content"})):k("",!0)]),_:1}),i(I,{name:"calls"},{default:p(()=>[!e.calls.loading.value&&!e.calls.error.value?(a(),l("main",W,[(a(!0),l(h,null,g(e.calls.data.value,(d,o)=>(a(),t(V,{call:d,"is-current":o===e.currentCallId.data.value,key:o},null,8,["call","is-current"]))),128)),m(" Всего уроков: "+y(r.value),1)])):k("",!0)]),_:1})]))}}),K=f(j,[["__scopeId","data-v-ed648d18"]]);export{K as default};
